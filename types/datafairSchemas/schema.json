{
  "$id": "https://github.com/data-fair/catalog-data-fair/catalog-schemas",
  "x-exports": [
    "types"
  ],
  "title": "DataFair Catalog",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "count",
    "results"
  ],
  "properties": {
    "count": {
      "type": "number",
      "description": "Nombre total de jeux de données"
    },
    "results": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/DataFairDataset"
      }
    }
  },
  "$defs": {
    "DataFairDataset": {
      "type": "object",
      "required": [
        "id",
        "title"
      ],
      "properties": {
        "id": {
          "type": "string",
          "description": "Globally unique identifier of the dataset"
        },
        "href": {
          "type": "string",
          "description": "Readonly field. The URL where this resource can be fetched"
        },
        "page": {
          "type": "string",
          "description": "Readonly field. The URL where this resource can be viewed in the UI"
        },
        "title": {
          "type": "string",
          "description": "Short title of the dataset"
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the dataset"
        },
        "keywords": {
          "type": "array",
          "description": "keywords",
          "items": {
            "type": "string"
          }
        },
        "frequency": {
          "type": "string",
          "description": "update frequency",
          "enum": [
            "",
            "triennial",
            "biennial",
            "annual",
            "semiannual",
            "threeTimesAYear",
            "quarterly",
            "bimonthly",
            "monthly",
            "semimonthly",
            "biweekly",
            "threeTimesAMonth",
            "weekly",
            "semiweekly",
            "threeTimesAWeek",
            "daily",
            "continuous",
            "irregular"
          ]
        },
        "file": {
          "type": "object",
          "required": [
            "size"
          ],
          "properties": {
            "size": {
              "type": "number",
              "description": "Size of the file on disk"
            }
          }
        },
        "originalFile": {
          "type": "object",
          "required": [
            "size"
          ],
          "properties": {
            "size": {
              "type": "number",
              "description": "Size of the file on disk"
            }
          }
        },
        "image": {
          "type": "string",
          "description": "URL d'une image, illustration du jeu de données"
        },
        "schema": {
          "type": "array",
          "description": "JSON schema properties of the fields",
          "items": {
            "type": "object",
            "required": [
              "key"
            ],
            "properties": {
              "key": {
                "type": "string",
                "readOnly": true,
                "x-display": "hidden"
              },
              "type": {
                "type": "string"
              },
              "format": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "x-originalName": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "title": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "x-group": {
                "type": "string"
              },
              "x-refersTo": {
                "deprecated": true,
                "type": [
                  "string",
                  "null"
                ]
              },
              "x-concept": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "title": {
                    "type": "string"
                  },
                  "primary": {
                    "type": "boolean"
                  }
                }
              },
              "x-calculated": {
                "type": "boolean"
              },
              "x-capabilities": {
                "type": "object",
                "properties": {
                  "index": {
                    "type": "boolean",
                    "default": true,
                    "x-display": "switch",
                    "title": "Filtrable sur valeur exacte",
                    "description": "Désactivez cette capacité si la donnée contient par exemple des textes longs pour lesquels des filtres sur valeurs exactes ont peu de sens."
                  },
                  "values": {
                    "type": "boolean",
                    "default": true,
                    "x-display": "switch",
                    "title": "Triable et groupable",
                    "description": "Désactivez cette capacité si la donnée contient par exemple des textes longs pour lesquels trier ou grouper par valeur a peu de sens."
                  },
                  "textStandard": {
                    "type": "boolean",
                    "default": true,
                    "x-display": "switch",
                    "title": "Texte analysé pour recherche textuelle",
                    "description": "Désactivez cette capacité dans le cas d'un code, une url, etc. N'importe quel contenu sur lequel la recherche de mots a peu de sens."
                  },
                  "text": {
                    "type": "boolean",
                    "default": true,
                    "x-display": "switch",
                    "title": "Texte analysé spécifiquement pour la langue française",
                    "description": "Désactivez cette capacité pour tout contenu qui n'est pas en langue française ou pour lequel la recherche de mots a peu de sens."
                  },
                  "textAgg": {
                    "type": "boolean",
                    "default": false,
                    "x-display": "switch",
                    "title": "Statistiques de mots",
                    "description": "Activez cette capacité si avez l'intention d'obtenir des statistiques sur les occurrences de mots (par exemple pour construire un nuage de mot)."
                  },
                  "wildcard": {
                    "type": "boolean",
                    "default": false,
                    "x-display": "switch",
                    "title": "Texte filtrable sur groupe de caractères",
                    "description": "Activez cette capacité si vous avez l'intention de filtrer ce contenu spécifiquement sur une suite de caractères (par exemple si un filtre sur mots entiers ou sur valeur exacte ne convient pas)."
                  },
                  "insensitive": {
                    "type": "boolean",
                    "default": true,
                    "x-display": "switch",
                    "title": "Tri amélioré avec casse et accents",
                    "description": "Désactivez cette capacité si le contenu ne sera pas utilisé pour du tri ou bien si il ne contient pas de variations avec accents et majuscules."
                  },
                  "geoShape": {
                    "type": "boolean",
                    "default": true,
                    "x-display": "switch",
                    "title": "Formes géométriques complexes",
                    "description": "Désactivez cette capacité si la donnée ne contient que des géométries basiques de points ou bien si requêter les géométries uniquement à partir de leurs centroïdes est suffisant pour vos besoins."
                  },
                  "vtPrepare": {
                    "type": "boolean",
                    "default": false,
                    "x-display": "switch",
                    "title": "Tuiles vectorielles préparées",
                    "description": "Activez cette capacité pour précalculer des éléments utiles à la construction de tuiles vectorielles pour le rendu cartographique du jeu de données. Activez cette option si le jeu de données contient des données géogreaphiques denses à afficher en grande quantité. La contre-partie est une augmentation du temps d'indexation et du volume de données indexées."
                  },
                  "indexAttachment": {
                    "type": "boolean",
                    "default": true,
                    "x-display": "switch",
                    "title": "Contenu des pièces jointes analysé pour recherche textuelle",
                    "description": "Désactivez cette option si vous souhaitez que les pièces jointes soient simplement téléchargeables et que l'extraction de leur contenu textuel pour recherche de mots n'est pas pertinente."
                  }
                }
              },
              "x-labels": {
                "type": "object",
                "patternProperties": {
                  ".*": {
                    "type": "string"
                  }
                }
              },
              "x-labelsRestricted": {
                "type": "boolean"
              },
              "readOnly": {
                "type": "boolean"
              },
              "x-required": {
                "type": "boolean"
              },
              "minLength": {
                "type": "integer"
              },
              "maxLength": {
                "type": "integer"
              },
              "minimum": {
                "type": "number"
              },
              "maximum": {
                "type": "number"
              },
              "pattern": {
                "type": "string",
                "format": "regex"
              },
              "patternErrorMessage": {
                "type": "string"
              },
              "x-master": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "title": {
                    "type": "string"
                  },
                  "remoteService": {
                    "type": "string",
                    "description": "L'identifiant du service distant utilisé pour l'enrichissement"
                  },
                  "action": {
                    "type": "string",
                    "description": "L'identifiant de l'action du service distant à utiliser pour l'enrichissement"
                  }
                }
              },
              "x-display": {
                "type": "string"
              },
              "enum": {
                "type": "array",
                "readOnly": true,
                "description": "This differs from JSON schema. It is not a restriction, just and observation of the values that are present in the dataset."
              },
              "x-cardinality": {
                "type": "integer",
                "description": "The number of distinct values for this field",
                "readOnly": true
              },
              "x-transform": {
                "type": "object",
                "description": "Transformation to apply to the field",
                "properties": {
                  "expr": {
                    "type": "string"
                  },
                  "examples": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "type": {
                    "type": "string"
                  },
                  "format": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "storage": {
          "type": "object",
          "description": "All storage space info of this dataset",
          "properties": {
            "size": {
              "type": "integer"
            }
          }
        },
        "count": {
          "type": "number",
          "description": "The number of rowns"
        },
        "license": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "title",
            "href"
          ],
          "properties": {
            "title": {
              "type": "string",
              "description": "Short title for the license"
            },
            "href": {
              "type": "string",
              "description": "The URL where the license can be read"
            }
          }
        }
      }
    }
  }
}